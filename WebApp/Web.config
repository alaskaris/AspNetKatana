<?xml version="1.0" encoding="utf-8"?>
<!--
  For more information on how to configure your ASP.NET application, please visit
  https://go.microsoft.com/fwlink/?LinkId=301880
  -->
<configuration>
  <appSettings>
    <add key="webpages:Version" value="3.0.0.0" />
    <add key="webpages:Enabled" value="false" />
    <add key="ClientValidationEnabled" value="true" />
    <add key="UnobtrusiveJavaScriptEnabled" value="true" />

    <!-- Cookie Authentication settings -->
    <add key="CookieAuthenticationTimeoutDuration" value="60" />
    <add key="CookieAuthenticationSlidingExpiration" value="true" />
    <add key="CookieAuthenticationSingleDomain" value="fitaxapps" />
    <add key="CookieAuthenticationDomainName" value="" />

    <!-- SAML 1.0 settings -->
    <add key="UseSTSAuthentication" value="false" />
    <add key="STSWtrealm" value="http://localhost:44351/" />
    <add key="STSADFSMetadata" value="https://c0infsrvfitax03/MetaData/Index" />
    <!--<add key="STSADFSMetadata" value="http://c0infsrvfitax03:8080/MetaData/Index" />-->

    <!-- Custom Headers Authentication settings -->
    <add key="CustomHttpHeader:Use" value="false" />
    <add key="CustomHttpHeader:Roles" value="XRole" />
    <add key="CustomHttpHeader:Name" value="XName" />
    <add key="CustomHttpHeader:PersistWithCookie" value="false" />

    <!-- Redirect settings -->
    <add key="Redirection:Use" value="false" />
    <add key="Redirection:URL" value="http://localhost:2019/#/" />
    
    <!-- AD B2C settings -->
    <add key="ida:Use" value="true" />
    <add key="ida:Tenant" value="alaskarisdevb2c.onmicrosoft.com" />
    <!--MSAL cache needs a tenantId along with the user's objectId to function. It retrieves these two from the claims returned in the id_token. 
        As tenantId is not guranteed to be present in id_tokens issued by B2C unless the steps listed in this 
        document (https://github.com/AzureAD/microsoft-authentication-library-for-dotnet/wiki/AAD-B2C-specifics#caching-with-b2c-in-msalnet). 
        If you are following the workarounds listed in the doc and tenantId claim (tid) is available in the user's token, then please change the 
        code in <ClaimsPrincipalsExtension.cs GetB2CMsalAccountId()> to let MSAL pick this from the claims instead -->
    <add key="ida:TenantId" value="2bafe5c1-f335-4604-99be-6658dbd35fb4" />
    <add key="ida:ClientId" value="622fdd2a-a5b0-4530-9fdd-7bf8b3fc564e" />
    <add key="ida:ClientSecret" value="wb0rfli$6vH_~qr1qRHj_W4*" />
    <add key="ida:AadInstance" value="https://alaskarisdevb2c.b2clogin.com/tfp/{0}/{1}" />
    <add key="ida:RedirectUri" value="https://localhost:44351/" />
    <add key="ida:SignUpSignInPolicyId" value="B2C_1_susi" />
    <add key="ida:EditProfilePolicyId" value="B2C_1_edit_profile" />
    <add key="ida:ResetPasswordPolicyId" value="B2C_1_reset" />
    <!-- Uncomment the localhost url if you want to run the API locally --><!--
    <add key="api:TaskServiceUrl" value="https://aadb2cplayground.azurewebsites.net/" />
    --><!--add key="api:TaskServiceUrl" value="https://localhost:44332/" /--><!--
    --><!-- The following settings is used for requesting access tokens --><!--
    <add key="api:ApiIdentifier" value="https://fabrikamb2c.onmicrosoft.com/tasks/" />
    <add key="api:ReadScope" value="read" />
    <add key="api:WriteScope" value="write" />-->


  </appSettings>
  <system.web>
    <compilation debug="true" targetFramework="4.7.2" />
    <httpRuntime requestPathInvalidCharacters="" targetFramework="4.7.2" maxRequestLength="2097152" />
    <machineKey validationKey="DC46B2A8A4D33B589EE1B90F0E6DE705FDD59AF48D2207558BB291762662B691D241E103CCE844CADAA955F58968A7DFB035C15ACE7C4BD48AF22FA68B17A9D5" decryptionKey="4F7C09F036D1E78E8E06AFFE8923E5037BBE920A800A3431" validation="SHA1" />
  </system.web>
  <runtime>
    <assemblyBinding xmlns="urn:schemas-microsoft-com:asm.v1">
      <dependentAssembly>
        <assemblyIdentity name="Antlr3.Runtime" publicKeyToken="eb42632606e9261f" />
        <bindingRedirect oldVersion="0.0.0.0-3.5.0.2" newVersion="3.5.0.2" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Newtonsoft.Json" publicKeyToken="30ad4fe6b2a6aeed" />
        <bindingRedirect oldVersion="0.0.0.0-12.0.0.0" newVersion="12.0.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="System.Web.Optimization" publicKeyToken="31bf3856ad364e35" />
        <bindingRedirect oldVersion="1.0.0.0-1.1.0.0" newVersion="1.1.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="WebGrease" publicKeyToken="31bf3856ad364e35" />
        <bindingRedirect oldVersion="0.0.0.0-1.6.5135.21930" newVersion="1.6.5135.21930" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="System.Web.Helpers" publicKeyToken="31bf3856ad364e35" />
        <bindingRedirect oldVersion="1.0.0.0-3.0.0.0" newVersion="3.0.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="System.Web.WebPages" publicKeyToken="31bf3856ad364e35" />
        <bindingRedirect oldVersion="1.0.0.0-3.0.0.0" newVersion="3.0.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="System.Web.Mvc" publicKeyToken="31bf3856ad364e35" />
        <bindingRedirect oldVersion="1.0.0.0-5.2.7.0" newVersion="5.2.7.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Microsoft.IdentityModel.Tokens" publicKeyToken="31bf3856ad364e35" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-6.6.0.0" newVersion="6.6.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Microsoft.IdentityModel.Protocols" publicKeyToken="31bf3856ad364e35" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-6.6.0.0" newVersion="6.6.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Microsoft.IdentityModel.Logging" publicKeyToken="31bf3856ad364e35" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-6.6.0.0" newVersion="6.6.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="System.IdentityModel.Tokens.Jwt" publicKeyToken="31bf3856ad364e35" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-6.6.0.0" newVersion="6.6.0.0" />
      </dependentAssembly>
    </assemblyBinding>
  </runtime>
  <system.codedom>
    <compilers>
      <compiler language="c#;cs;csharp" extension=".cs" type="Microsoft.CodeDom.Providers.DotNetCompilerPlatform.CSharpCodeProvider, Microsoft.CodeDom.Providers.DotNetCompilerPlatform, Version=2.0.1.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" warningLevel="4" compilerOptions="/langversion:default /nowarn:1659;1699;1701" />
      <compiler language="vb;vbs;visualbasic;vbscript" extension=".vb" type="Microsoft.CodeDom.Providers.DotNetCompilerPlatform.VBCodeProvider, Microsoft.CodeDom.Providers.DotNetCompilerPlatform, Version=2.0.1.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" warningLevel="4" compilerOptions="/langversion:default /nowarn:41008 /define:_MYTYPE=\&quot;Web\&quot; /optionInfer+" />
    </compilers>
  </system.codedom>
<system.webServer>
    <handlers>
      <remove name="ExtensionlessUrlHandler-Integrated-4.0" />
      <remove name="OPTIONSVerbHandler" />
      <remove name="TRACEVerbHandler" />
      <add name="ExtensionlessUrlHandler-Integrated-4.0" path="*." verb="*" type="System.Web.Handlers.TransferRequestHandler" preCondition="integratedMode,runtimeVersionv4.0" />
    </handlers>
  </system.webServer></configuration>
